---
layout: post
title: Spring 的学习和使用
category : [JavaEE, Spring]
tagline: "Supporting tagline"
tags : [Spring]
---
{% include JB/setup %}
# Spring 的学习和使用
---

<!--break-->


## 2 装配 Bean 
### 2.1 Spring 配置的可选方案 
Spring 容器负责创建应用程序中的 Bean 并通过 DI 来协调这些对象之间的关系.
但是,作为开发人员,你需要告诉 Sprng 要创建哪些 Bean 并且如何将其装配在一起.
当描述 Bean 如何进行装配时,Spring 具有非常大的灵活性,它提供了三种主要的装配机制: 
- 在 XML 种进行显示配置 
- 使用 JavaConfig 进行配置 
- 隐式的 Bean 发现机制与自动装配 

### 2.2 自动化装配 Bean 
Spring 从两个角度来实现自动化装配: 
- 组建扫描(component scanning): Spring 会自动发现应用上下文中所创建的 Bean. 
- 自动装配(autowiring): Spring 自动满足 Bean 之间的依赖. 

### 2.2.1 创建可被发现的 Bean 
在类上添加 @Component 注解表明该类会作为组件类,并告知 Spring 要为这个类
创建 Bean.不过组件的扫描默认是不启用的.我们还需要显式配置一下 Spring,从而命令它去寻找带有
 @Component 注解的类.Spring 中可以使用 @ComponentScan 注解启用组件扫描. 
如果没有其他配置的话, @ComponentScan 默认会扫描与配置类所在包及该包下的所有子包,
寻找带有 @Component 注解的类,并且在 Spring 种为其创建一个 Bean. 
如果使用 XML 来启用组件扫描的话,那么可以使用 Spring context 命名空间的
`<context:component-scan>` 元素. 

### 2.2.2 为组件扫描的 Bean 命名 
Spring 应用上下文中所有的 Bean 都会给定一个 ID,如果没有显示指定,Spring
会根据类名为其指定一个 ID(将类名的第一个字母变为小写). 
如果想要为这个 Bean 设置不同的 ID,你所要做的就是将期望的 ID 作为值传递给
 @Component 注解: 
 ``` 
 @Component("lonelyHeartsClub")
 public class SgtPeppers implements CompactDisc {
    ...
 }
 ``` 
还有另外一种为 Bean 命名的方式,这种方式不使用 @Component 注解,而是使用
Java 依赖注入规范(Java Dependency Injection) 中所提供的 @Named 注解
来为 Bean 设置 ID: 
``` 
package soundsystem; 
import javax.inject.Named;

@Named("lonelyHeartsClub") 
public class SgtPeppers implements CompactDisc {
    ...
}
``` 
Spring 支持将 @Named 作为 @Component 注解的替代方案,两者之间有一些细微的差异,
但是在大多数场景中,它们是可以相互替换的. 

### 设置组件扫描的基础包 
到现在为止,我们没有为 @ComponentScan 注解设置任何属性.这意味着,按照默认规则,
它会以配置类所在的包作为基础包(base package)来扫描组件.但是,如果你想扫描不同的包,
那该怎么办呢?或者,如果你想扫描多个基础包,那又该怎么办呢?  
有一个原因会促使我们明确地设置基础包,那就是我们想要将配置类放在单独的包中,
使其与其他应用代码区分开来.如果是这样的话,哪默认的基础包就不能满足要求了.  

